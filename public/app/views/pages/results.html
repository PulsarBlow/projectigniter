<div class="page page-results">

    <section class="panel panel-default">
        <div class="panel-heading"><strong><span class="fa fa-line-chart"></span> Résultats</strong></div>
        <div class="panel-body">
            <div class="callout callout-info">
                <h4>Résultats du vote</h4>

                <p>Le résultat du vote pour le nom est affiché ci-dessous. Ce résultat en mise à jour en temps réel durant toute la durée du vote.<br/>Les noms sont classés par popularité décroissante (nombre de points attribués). Si deux noms obtiennent le même nombre de points, le nom ayant été choisi par le plus de participant prendra la première position.
                </p>
            </div>
            <div class="container-fluid">
                <div class="row">
                    <div class="col-md-6">
                        <div class="list-group vote-results">
                            <div class="list-group-item" data-ng-repeat="item in voteResult.allVotes">
                                <div class="list-group-item-heading">
                                    <div class="item-rank">#{{$index + 1}}</div>
                                    <div class="item-value">{{item.value}}</div>
                                </div>

                                <div class="list-group-item-footer">
                                    <div class="item-points">
                                        {{item.points}} points
                                    </div>
                                    <div class="voters">
                                        <a class="voter" data-ng-repeat="voter in item.voters"
                                           data-ng-href="{{voter.pageUrl}}" target="_blank"
                                           tooltip="{{voter.displayName}} - {{voter.points}} pts"
                                           tooltip-placement="right"><img data-ng-src="{{voter.pictureUrl}}"
                                                                          class="img-circle img20_20"
                                                                          alt="{{voter.displayName}}"/></a>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="container-fluid">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="panel mini-box">
                                        <span class="btn-icon btn-icon-round btn-icon-lg-alt bg-success">
                                            <i class="fa fa-check-circle"></i>
                                        </span>
                                        <div class="box-info">
                                            <p class="size-h2">{{appCounters.votes_saved}}</p>
                                            <p class="text-muted">Votes enregistrés</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="panel mini-box">
                                        <span class="btn-icon btn-icon-round btn-icon-lg-alt bg-danger">
                                            <i class="fa fa-undo"></i>
                                        </span>

                                        <div class="box-info">
                                            <p class="size-h2">{{appCounters.votes_deleted}}</p>
                                            <p class="text-muted">Votes supprimés</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="panel mini-box">
                                        <span class="btn-icon btn-icon-round btn-icon-lg-alt bg-info">
                                            <i class="fa fa-calculator"></i>
                                        </span>
                                        <div class="box-info">
                                            <p class="size-h2">{{voteResult.totalPoints}}</p>
                                            <p class="text-muted">Points assignés</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="panel mini-box" tooltip="Bah oui, il a bien fallu développer cette appli... :]" tooltip-placement="left">
                                        <span class="btn-icon btn-icon-round btn-icon-lg-alt bg-info">
                                            <i class="fa fa-coffee"></i>
                                        </span>

                                        <div class="box-info">
                                            <p class="size-h2">265</p>
                                            <p class="text-muted">Cafés avalés</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="panel mini-box">
                            <div class="panel-heading">Participants</div>
                            <div class="panel-body">
                                <div class="voters">
                                    <a class="voter" data-ng-repeat="voter in voteResult.allVoters"
                                       data-ng-href="{{voter.pageUrl}}" target="_blank"><img data-ng-src="{{voter.pictureUrl}}" class="img-circle img30_30"  alt="{{voter.displayName}}" title="{{voter.displayName}}"/>{{voter.displayName}}</a>
                                </div>
                            </div>
                        </div>
                        <div class="alert alert-info"><i class="fa fa-clock-o fa-3x pull-left"></i>Ce vote prendra fin dans :<br/>
                            <timer class="timer-wrapper" end-time="app.vote.endDate">{{days}} jours, {{hours}} heures, {{minutes}} minutes et {{seconds}} secondes.</timer>
                            <p><input type="checkbox" data-ng-model="userConfig.emailOnVoteEnd" data-ng-click="optinFeedback()"> Je souhaites recevoir le résultat final par email une fois le vote terminé.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

</div>